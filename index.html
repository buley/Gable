<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Gable.js - Shadow structure for Google tables.</title>
		<link href="style.css" type="text/css" rel="stylesheet"/>
<!--		<script
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
		-->		

  		<script type="text/javascript" src="http://www.google.com/jsapi"></script>
		<script src="https://raw.github.com/editor/Gable/master/gable.js"></script>
		<script type="text/javascript">
    			google.load('visualization', '1', {packages: ['table','corechart']});
		</script>
	</head>
	<body>
		<div id='container'>
			<small class='promo'>
				<a href='https://raw.github.com/editor/Gable/master/gable.js'>Download</a>
			</small>
			<div id='logo'>
				<div id='logo-icon'>
					<img src='g4.png'>
				</div>
				<div id='logo-text'>
					<h1><a href="https://github.com/editor/Gable/">Gable</a></h1>
					<p>Shadow structure for <a href='http://code.google.com/apis/chart/interactive/docs/reference.html#DataTable'>Google tables</a>.</p>
				</div>	

			</div>
			<div class='subhead'>Gabel makes it easy to <strong>create Google data tables</strong>, which in turn make it easy to <strong>draw graphs and plot charts</strong>.<p>
			<div class='subhead'>You take care of data and visualization. Gable covers the boring JavaScript.</div>
			<h4>Examples</h4>

			<h5>1. Setup</h5>
			<p class='subdesc'>Gable depends on the JavaScript <a href='http://code.google.com/apis/chart/interactive/docs/reference.html'>Google Visualization API</a> but will always take care of loading the right files. To enable Gable, include a script tag.</p>
			<p class='codedesc'><code>&lt;script type='text/javascript' src='https://raw.github.com/editor/Gable/master/gable.js'&gt;&lt;/script&gt;</code></p>
			<p class='desc'><strong>Note</strong>: It's not a great idea to serve the file directly from Github on a live website, but the above script tag will get you going.</p>
			<p class='subdesc'>Gable has not yet been tested across all browsers.</p>
			<h4>2. Create</h4>
			<p class='subdesc'>To create a data table, give Gable the data via the `add` method and pass a unique string to identify it.</p>
			<p class='codedesc'><code>Gable( 'jill' ).add( [ [ 'work', .5 ], [ 'play', .5 ] ] );</code></p>
			<p class='subdesc'>Pass in a keyed `meta` object to control <a href='http://code.google.com/apis/chart/interactive/docs/customizing_charts.html'>visualization options</a> like chart labels and height and width.</p>
			<p class='codedesc'><code>Gable( 'jack' ).add( [ [ 'work', .9 ], [ 'play', .1 ] ], { 'label': 'Redrum' } );</code></p>
			<p class='subdesc'>Tables are stored in memory and so getting and setting values is always immediate. That said, passing callback functions using the `on_success` and `on_error` keys allows subscribing to possibly-asyncronous notification that a request has completed.</p>
			<p class='codedesc'><code>var success_callback = function( id ) {<br/>&nbsp;&nbsp;&nbsp;&nbsp;console.log( 'Added', id );<br/>};<br/>var error_callback = function( context ) {<br>&nbsp;&nbsp;&nbsp;&nbsp;console.log( 'Error', context );<br/>};<br/>var request_object = {<br>&nbsp;&nbsp;&nbsp;&nbsp;on_success: success_callback<br/>&nbsp;&nbsp;, on_error: error_callback<br/>};<br>Gable( 'jack' ).add( [ [ 'work', .9 ], [ 'play', .1 ] ], { label: 'Redrum' }, request_object );</code></p>
			<p class='desc'><strong>Note</strong>: Because of ever-increasing function parameters, and for future-proofing reasons, any functions that don't already require a request object can be rewritten as one using commonsense key names. For example, the statement  in the above code could be rewritten as the following: <br/><code class='inlinecode'>Gable( 'jack' ).add( value: [ [ 'work', .9 ], [ 'play', .1 ] ], meta: { label: 'Redrum' }, on_success: success_callback, on_error: error_callback } );</code><br/>This is the preferred invocation style. Direct arguments are allowed in some cases for convenience's sake when only one or two arguments are required for lightweight usage.</p>
			<h4>3. Draw</h4>
			<p class='subdesc'>Pass Gable a data table's unique id, a target DOM id and visualization type to draw it on page. Valid visualization types include `table`, `pie`, TK.</p>
			<p class='codedesc'><code>Gable( 'jack' ).draw( 'dullard', 'pie' );</code></p>
			<p class='subdesc'>The above code would attempt to append a pie chart to an HTML element with the id `dullard`. If the `id` argument (second parameter) is omitted, Gable will attempt to target a DOM element using its own unique identifier. </p>
			<h4>4. Update</h4>
			<p class='subdesc'>You can update columns, rows and cells by index. Pass the `update` method a row id, column id or both to update a row, column or cell with a given value.</p>
			<p class='codedesc'><code>Gable( 'jill' ).update( { 'row': 1, 'column': 2, 'value': .8  );</code></p>
			<p class='subdesc'>Data tables are automatically wired to visualizations so any changes you make will be reflected live immediately. To manually control these updates, use the `stage` and `commit` methods on a per-table basis.<p>
			<p class='codedesc'><code>var table = Gable( 'jill' );<br>table.delay();<br>table.update( { row: 1, column: 2, value: .8  );<br/>table.update( { row: 2, column: 2, value: .2 } );<br>table.commit();</code></p>
			<p class='subdesc'>The above code updates two rows before making a change live. You can optionally give the `delay` method a number of milliseconds and it will `commit` automatically. Use the `cancel` method to interrupt this invocation pattern and forget all non-commited changes.</p>
			<p class='desc'><strong>Note</strong>: All calls to Gable are chainable so the preceding code could be rewritten as <code class='inlinecode'>Gable( 'jill' ).delay().update( { row: 1, column: 2, value: .8  ).update( { row: 2, column: 2, value: .2 } ).commit();</code></p>

			<h4>5. Export</h4>
			<p class='subdesc'>Gable stores tables in its own format and exports high-fidelity copies into Google's standard data table format. This approach allows for flexible, fast and easy <a href='http://code.google.com/apis/chart/interactive/docs/datatables_dataviews.html#javascriptliteral'>loading</a>.</p>
			<p class='subdesc'>To export a table to Google's Data Table format, pass Gable the unique id and call its `export` method.</p>
			<p class='codedesc'><code>var export = Gable( 'jill' ).export();</code></p>
			<p class='subdesc'>To export the table to a .CSV string representation, pass the `export` method the string 'csv'. To see how Gable stores the data internally, use the type string `raw`.</p>
			<!-- Git embed samples TK -->
			<p class='codedesc'><code>var export = Gable( 'jill' ).export( 'csv' );</code></p>
			<h4>6. Destroy</h4>
			<p class='subdesc'>To remove a table, call the `remove` method after passing Gable its unique id. Any corresponding charts will be removed from the DOM.</p>
			<p class='codedesc'><code>Gable( 'jill' ).remove();</code></p>
			<p class='subdesc'>Rows, columns and cells can be destroyed invidiually by passing the destroy method an object with keys representing either a row id, column id or both.</p>
			<p class='codedesc'><code>Gable( 'jill' ).remove( { row: 1, column: 2 } );</code></p>
			<p class='subdesc'>The above code "removes" a single cell by turning it into a `null` value. The code below removes a single row.</p>
			<p class='codedesc'><code>Gable( 'jill' ).remove( { row: 2 } );</code></p>
			<p class='desc'><strong>Note</strong>: In the two examples above, two columns were removed from two column table (created and drawn in the first example). If a table has no rows, no columns or neither rows nor columns it will be destroyed automatically.</p>

	</div>
	</body>
	</html>

